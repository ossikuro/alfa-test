(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{63:(e,t,r)=>{"use strict";var i=r(7260);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},2416:e=>{e.exports={button:"Button_button__f_l0m",init:"Button_init__9bZ8i",liked:"Button_liked__mswkC",icon:"Button_icon__BTVtg",text:"Button_text__dsM1r",both:"Button_both__20jUm",filterButton:"Button_filterButton__tML0l"}},2652:e=>{e.exports={page:"products_page__ydumG",title:"products_title__w0RVR",controls:"products_controls__gQhT3",filters:"products_filters__iusPM",productsGrid:"products_productsGrid__QyUZA",loading:"products_loading__Foc1u",emptyMessage:"products_emptyMessage__eMdbF"}},2717:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var i=r(5155);r(2115);var s=r(2416),a=r.n(s);let c=e=>{let{children:t,onClick:r,variant:s="init",mode:c="icon",type:l="button",disabled:o=!1}=e,n="".concat(a().button," ").concat(a()[s]," ").concat(a()[c]);return(0,i.jsx)("button",{type:l,className:n,onClick:r,disabled:o,children:t})}},3232:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var i,s=r(2115);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}let c=function(e){return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"currentcolor"},e),i||(i=s.createElement("path",{d:"m9.704 17.426-.005-.003-.02-.01-.068-.038q-.089-.05-.25-.144a20.98 20.98 0 0 1-3.537-2.642C3.907 12.8 1.875 10.146 1.875 6.875c0-2.44 2.053-4.375 4.531-4.375 1.458 0 2.763.666 3.594 1.71a4.58 4.58 0 0 1 3.594-1.71c2.478 0 4.531 1.935 4.531 4.375 0 3.27-2.032 5.926-3.949 7.714a21 21 0 0 1-3.537 2.642 12 12 0 0 1-.319.181l-.019.01-.005.003-.002.002a.63.63 0 0 1-.588 0z"})))}},4127:e=>{e.exports={filterCategorie:"ProductCategorieFilter_filterCategorie__tDiKs"}},5026:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var i,s=r(2115);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}let c=function(e){return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"currentcolor",viewBox:"0 0 24 24"},e),i||(i=s.createElement("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 19a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7H6z"})))}},5508:e=>{e.exports={selectContainer:"Select_selectContainer__cLTmj",select:"Select_select__33R8O",selectArrow:"Select_selectArrow__XBZMf",filter:"Select_filter__E4rGh",form:"Select_form__tsJVX"}},5660:e=>{e.exports={filter:"ProductFilter_filter__B6Zs6"}},6604:e=>{e.exports={card:"ProductCard_card__Fe1E8",imageContainer:"ProductCard_imageContainer__wx2P3",image:"ProductCard_image__P7bVK",content:"ProductCard_content__6HyHl",title:"ProductCard_title__IIU1U",price:"ProductCard_price__YS4ba",description:"ProductCard_description__VRpgG",actions:"ProductCard_actions__jne_Q"}},7486:(e,t,r)=>{Promise.resolve().then(r.bind(r,7568))},7568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var i=r(5155),s=r(2115),a=r(1213),c=r(63),l=r(8497);let o="https://fakestoreapi.com",n=async()=>{try{let e=await fetch("".concat(o,"/products"));if(!e.ok)throw Error("Failed to fetch products");return(await e.json()).map(e=>{var t,r;return{id:e.id,title:e.title,price:e.price,description:e.description,category:e.category,image:e.image,rating:{rate:(null==(t=e.rating)?void 0:t.rate)||0,count:(null==(r=e.rating)?void 0:r.count)||0},isLiked:!1}})}catch(e){return console.error("Error fetching products:",e),[{id:1,title:"Пример товара 1",price:99.99,description:"Описание товара для тестирования",category:"electronics",image:"https://via.placeholder.com/300",rating:{rate:4.5,count:120},isLiked:!1},{id:2,title:"Пример товара 2",price:149.99,description:"Еще одно описание товара",category:"men's clothing",image:"https://via.placeholder.com/300",rating:{rate:4.2,count:89},isLiked:!1}]}},d=async()=>{try{let e=await fetch("".concat(o,"/products/categories"));if(!e.ok)throw Error("Failed to fetch categories");return await e.json()}catch(e){return console.error("Error fetching categories:",e),["electronics","jewelery","men's clothing","women's clothing"]}};var u=r(2717),p=r(5660),_=r.n(p);let g=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.products.filter),r=(0,a.d4)(e=>e.products.favorites.length);return(0,i.jsxs)("div",{className:_().filter,children:[(0,i.jsx)(u.$,{variant:"all"===t?"liked":"init",mode:"text",className:_().filterButton,onClick:()=>e((0,l.R6)("all")),children:"Все товары"}),(0,i.jsxs)(u.$,{variant:"favorites"===t?"liked":"init",mode:"text",onClick:()=>e((0,l.R6)("favorites")),className:_().filterButton,children:["Избранное (",r,")"]})]})};var h=r(8709),m=r(4127),f=r.n(m);let v=()=>{let e=(0,a.wA)(),t=(0,a.d4)(e=>e.products.categoryFilter||"all"),r=(0,a.d4)(e=>e.products.categories);(0,s.useEffect)(()=>{(async()=>{let t=await d();e((0,l.zw)(t))})()},[e]);let c=[{value:"all",label:"all godies"},...r.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}))];return(0,i.jsx)("div",{className:f().filterCategorie,children:(0,i.jsx)(h.l,{value:t,onChange:t=>{e((0,l.Dz)(t))},options:c})})};var x=r(6604),j=r.n(x),w=r(5026),y=r(3232);let C=e=>{let{product:t,onCardClick:r}=e,s=(0,a.wA)();return(0,i.jsxs)("div",{className:j().card,onClick:()=>r(t.id),children:[(0,i.jsxs)("div",{className:j().actions,children:[(0,i.jsx)(u.$,{variant:t.isLiked?"liked":"init",mode:"icon",onClick:e=>{e.stopPropagation(),s((0,l.GB)(t.id))},children:(0,i.jsx)(y.A,{})}),(0,i.jsx)(u.$,{variant:"init",mode:"icon",onClick:e=>{e.stopPropagation(),s((0,l.DD)(t.id))},children:(0,i.jsx)(w.A,{})})]}),(0,i.jsx)("div",{className:j().imageContainer,children:(0,i.jsx)("img",{src:t.image,alt:t.title,className:j().image})}),(0,i.jsxs)("div",{className:"product-content",children:[(0,i.jsxs)("h3",{className:j().price,children:["$",t.price]}),(0,i.jsx)("p",{className:j().title,children:t.title}),(0,i.jsx)("p",{className:j().description,children:t.description.length>74?"".concat(t.description.substring(0,74),"..."):t.description})]})]})};var N=r(2652),k=r.n(N);function b(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.products.items),r=(0,a.d4)(e=>e.products.filter),o=(0,a.d4)(e=>e.products.favorites),d=(0,a.d4)(e=>e.products.categoryFilter),p=(0,c.useRouter)();(0,s.useEffect)(()=>{0===t.length&&(async()=>{let t=await n();e((0,l.d9)(t))})()},[e,t.length]);let _=t.filter(e=>{let t="favorites"!==r||o.includes(e.id),i="all"===d||e.category===d;return t&&i}),h=e=>{p.push("/products/".concat(e))};return 0===t.length?(0,i.jsxs)("div",{className:k().page,children:[(0,i.jsx)("h1",{className:k().title,children:"Goodies"}),(0,i.jsx)("p",{className:k().loading,children:"Uploading catalogue..."})]}):(0,i.jsxs)("div",{className:k().page,children:[(0,i.jsx)("h1",{className:k().title,children:"Goodies"}),(0,i.jsxs)("div",{className:k().controls,children:[(0,i.jsxs)("div",{className:k().filters,children:[(0,i.jsx)(g,{}),(0,i.jsx)(v,{})]}),(0,i.jsx)(u.$,{variant:"init",mode:"text",onClick:()=>p.push("/products/newProduct"),className:k().addButton,children:"+ Add New"})]}),(0,i.jsx)("div",{className:k().productsGrid,children:_.map(e=>(0,i.jsx)(C,{product:e,onCardClick:h},e.id))},"".concat(r,"-").concat(d)),"favorites"===r&&0===_.length&&(0,i.jsx)("p",{className:k().emptyMessage,children:"There is no favorites"})]})}},8497:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>u,DD:()=>l,Dz:()=>n,GB:()=>c,M_:()=>p,R6:()=>o,d9:()=>a,zw:()=>d});var i=r(9267);let s=(0,i.Z0)({name:"products",initialState:{items:[],favorites:[],filter:"all",categoryFilter:"all",categories:[]},reducers:{setProducts:(e,t)=>{e.items=t.payload},toggleLike:(e,t)=>{let r=t.payload,i=e.items.find(e=>e.id===t.payload);i&&(i.isLiked=!i.isLiked);let s=e.favorites.indexOf(r);-1===s?e.favorites.push(r):e.favorites.splice(s,1)},deleteProduct:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)},setFilter:(e,t)=>{e.filter=t.payload},setCategoryFilter:(e,t)=>{console.log("\uD83C\uDFAF Reducer: setting category to",t.payload),e.categoryFilter=t.payload},setCategories:(e,t)=>{e.categories=t.payload},addProduct:(e,t)=>{e.items.unshift(t.payload)}}}),{setProducts:a,toggleLike:c,deleteProduct:l,setFilter:o,setCategoryFilter:n,setCategories:d,addProduct:u}=s.actions,p=(0,i.U1)({reducer:{products:s.reducer}})},8709:(e,t,r)=>{"use strict";r.d(t,{l:()=>c});var i=r(5155);r(2115);var s=r(5508),a=r.n(s);let c=e=>{let{value:t,onChange:r,options:s,placeholder:c="Выберите опцию",disabled:l=!1}=e;return(0,i.jsxs)("div",{className:a().selectContainer,children:[(0,i.jsx)("select",{value:t,onChange:e=>{r(e.target.value)},className:a().select,disabled:l,children:s.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,i.jsx)("div",{className:a().selectArrow,children:"▼"})]})}}},e=>{e.O(0,[533,555,441,255,358],()=>e(e.s=7486)),_N_E=e.O()}]);