(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{63:(e,t,r)=>{"use strict";var i=r(7260);r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},2416:e=>{e.exports={button:"Button_button__f_l0m",init:"Button_init__9bZ8i",liked:"Button_liked__mswkC",icon:"Button_icon__BTVtg",text:"Button_text__dsM1r",both:"Button_both__20jUm",filterButton:"Button_filterButton__tML0l"}},2717:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var i=r(5155);r(2115);var a=r(2416),l=r.n(a);let n=e=>{let{children:t,onClick:r,variant:a="init",mode:n="icon",type:o="button",disabled:c=!1}=e,s="".concat(l().button," ").concat(l()[a]," ").concat(l()[n]);return(0,i.jsx)("button",{type:o,className:s,onClick:r,disabled:c,children:t})}},3828:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var i,a=r(2115);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(null,arguments)}let n=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"currentcolor",viewBox:"0 0 24 24"},e),i||(i=a.createElement("path",{d:"m7.825 13 4.888 4.887A.999.999 0 0 1 11.3 19.3L4 12l7.3-7.3a.999.999 0 1 1 1.412 1.413L7.826 11H19a1 1 0 1 1 0 2z"})))}},5508:e=>{e.exports={selectContainer:"Select_selectContainer__cLTmj",select:"Select_select__33R8O",selectArrow:"Select_selectArrow__XBZMf",filter:"Select_filter__E4rGh",form:"Select_form__tsJVX"}},6527:e=>{e.exports={page:"newProduct_page__7UGpH",container:"newProduct_container__cbQ_f",navigation:"newProduct_navigation__Q73uW",title:"newProduct_title__dlY5U",formGrid:"newProduct_formGrid__xU2_7",imageSection:"newProduct_imageSection__8eunY",fileInput:"newProduct_fileInput__Ag3sK",imagePlaceholder:"newProduct_imagePlaceholder__SXXDw",imageUpload:"newProduct_imageUpload__mH_cU",imagePreview:"newProduct_imagePreview__ZaSoE",infoSection:"newProduct_infoSection__ACvh1",formElementContainer:"newProduct_formElementContainer__A0ce0",labelSelect:"newProduct_labelSelect__Z0zKe",errorText:"newProduct_errorText__fTf8B",submitButton:"newProduct_submitButton___2bzO",row:"newProduct_row__1yP3a",header:"newProduct_header__1h_Zu"}},6827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(5155),a=r(2115),l=r(1213),n=r(63),o=r(8497),c=r(2717),s=r(9094),d=r.n(s);let u=e=>{let{value:t,onChange:r,placeholder:a="",label:l,type:n="text",multiline:o=!1,rows:c=3,required:s=!1,error:u}=e,_=e=>{r(e.target.value)};return(0,i.jsxs)("div",{className:d().inputContainer,children:[l&&(0,i.jsxs)("label",{className:d().label,children:[l,s&&(0,i.jsx)("span",{className:d().required,children:"*"})]}),o?(0,i.jsx)("textarea",{value:t,onChange:_,placeholder:a,rows:c,className:"".concat(d().input," ").concat(d().textarea," ").concat(u?d().error:"")}):(0,i.jsx)("input",{type:n,value:t,onChange:_,placeholder:a,className:"".concat(d().input," ").concat(u?d().error:"")}),u&&(0,i.jsx)("p",{className:d().errorText,children:u})]})};var _=r(8709),m=r(6527),p=r.n(m),g=r(3828);function v(){let e=(0,l.wA)(),t=(0,n.useRouter)(),[r,s]=(0,a.useState)({title:"",description:"",price:"",category:"",image:null,imagePreview:""}),[d,m]=(0,a.useState)({}),v=(e,t)=>{s(r=>({...r,[e]:t})),d[e]&&m(t=>({...t,[e]:void 0}))};return(0,i.jsx)("div",{className:p().page,children:(0,i.jsxs)("div",{className:p().container,children:[(0,i.jsx)("div",{className:p().navigation,children:(0,i.jsxs)(c.$,{variant:"init",mode:"both",onClick:()=>t.push("/products"),children:[(0,i.jsx)(g.A,{}),"Back"]})}),(0,i.jsx)("form",{onSubmit:i=>{if(i.preventDefault(),(()=>{let e={};return r.title.trim()||(e.title="Product Name is required"),r.description.trim()||(e.description="Description is required"),(!r.price.trim()||isNaN(Number(r.price))||0>=Number(r.price))&&(e.price="Enter valid price"),r.category||(e.category="Category is required"),r.image||(e.image="Image is required"),m(e),0===Object.keys(e).length})()&&r.image){let i=URL.createObjectURL(r.image),a={id:Date.now(),title:r.title,description:r.description,price:Number(r.price),category:r.category,image:i,rating:{rate:0,count:0},isLiked:!1};e((0,o.Bj)(a)),t.push("/products")}},className:p().form,children:(0,i.jsxs)("div",{className:p().formGrid,children:[(0,i.jsxs)("div",{className:p().imageSection,children:[(0,i.jsxs)("label",{className:p().imagePlaceholder,children:[(0,i.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];r&&(s(e=>({...e,image:r,imagePreview:URL.createObjectURL(r)})),d.image&&m(e=>({...e,image:void 0})))},className:p().fileInput}),r.imagePreview?(0,i.jsx)("img",{src:r.imagePreview,alt:"Preview",className:p().imagePreview}):(0,i.jsxs)("div",{className:p().imageUpload,children:[(0,i.jsx)("span",{children:"+ Add Image"}),(0,i.jsx)("p",{children:"Click to upload product image"})]})]}),d.image&&(0,i.jsx)("p",{className:p().errorText,children:d.image})]}),(0,i.jsxs)("div",{className:p().infoSection,children:[(0,i.jsx)("h1",{className:p().title,children:"Add new item"}),(0,i.jsx)(u,{value:r.title,onChange:e=>v("title",e),placeholder:"Add a name",label:"Name",required:!0,error:d.title}),(0,i.jsxs)("div",{className:p().formElementContainer,children:[(0,i.jsx)("p",{className:p().labelSelect,children:"Category"}),(0,i.jsx)(_.l,{value:r.category,onChange:e=>{s(t=>({...t,category:e})),d.category&&m(e=>({...e,category:void 0}))},options:[{value:"",label:""},{value:"electronics",label:"Electronics"},{value:"jewelery",label:"Jewelery"},{value:"men's clothing",label:"Men's Clothing"},{value:"women's clothing",label:"Women's Clothing"}],placeholder:"--"}),d.category&&(0,i.jsx)("p",{className:p().errorText,children:d.category})]}),(0,i.jsx)(u,{value:r.description,onChange:e=>v("description",e),placeholder:"Add description",label:"Description",multiline:!0,rows:4,required:!0,error:d.description}),(0,i.jsx)(u,{value:r.price,onChange:e=>v("price",e),placeholder:"0.00",label:"Price",type:"number",required:!0,error:d.price}),(0,i.jsx)(c.$,{type:"submit",variant:"liked",mode:"text",className:p().submitButton,children:"Save"})]})]})})]})})}},6932:(e,t,r)=>{Promise.resolve().then(r.bind(r,6827))},8497:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>u,DD:()=>o,Dz:()=>s,GB:()=>n,M_:()=>_,R6:()=>c,d9:()=>l,zw:()=>d});var i=r(9267);let a=(0,i.Z0)({name:"products",initialState:{items:[],favorites:[],filter:"all",categoryFilter:"all",categories:[]},reducers:{setProducts:(e,t)=>{e.items=t.payload},toggleLike:(e,t)=>{let r=t.payload,i=e.items.find(e=>e.id===t.payload);i&&(i.isLiked=!i.isLiked);let a=e.favorites.indexOf(r);-1===a?e.favorites.push(r):e.favorites.splice(a,1)},deleteProduct:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)},setFilter:(e,t)=>{e.filter=t.payload},setCategoryFilter:(e,t)=>{console.log("\uD83C\uDFAF Reducer: setting category to",t.payload),e.categoryFilter=t.payload},setCategories:(e,t)=>{e.categories=t.payload},addProduct:(e,t)=>{e.items.unshift(t.payload)}}}),{setProducts:l,toggleLike:n,deleteProduct:o,setFilter:c,setCategoryFilter:s,setCategories:d,addProduct:u}=a.actions,_=(0,i.U1)({reducer:{products:a.reducer}})},8709:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var i=r(5155);r(2115);var a=r(5508),l=r.n(a);let n=e=>{let{value:t,onChange:r,options:a,placeholder:n="Выберите опцию",disabled:o=!1}=e;return(0,i.jsxs)("div",{className:l().selectContainer,children:[(0,i.jsx)("select",{value:t,onChange:e=>{r(e.target.value)},className:l().select,disabled:o,children:a.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,i.jsx)("div",{className:l().selectArrow,children:"▼"})]})}},9094:e=>{e.exports={inputContainer:"Input_inputContainer__R9vBA",label:"Input_label__RfGA8",required:"Input_required__sgyx1",input:"Input_input__a5J6C",textarea:"Input_textarea__LZc9L",error:"Input_error__Nqe_D",errorText:"Input_errorText__XvpqF"}}},e=>{e.O(0,[533,273,555,441,255,358],()=>e(e.s=6932)),_N_E=e.O()}]);